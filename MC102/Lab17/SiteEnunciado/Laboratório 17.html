<!DOCTYPE html>
<!-- saved from url=(0059)https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Laboratório 17</title>        <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="./Laboratório 17_files/css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="./Laboratório 17_files/github-markdown.css">
    <style>
        .markdown-body {
        box-sizing: border-box;
        min-width: 200px;
        max-width: 980px;
        margin: 0 auto;
        padding: 45px;
        font-family: 'Noto Sans', sans-serif;
        }
        .markdown-body h6 { margin-bottom: 0; }
        .markdown-body h6 + ul li {
        display: inline-block;
        width: 100%;
        max-width: 426px;
        vertical-align: top;
        }
        .markdown-body h6 + ul li pre {
          max-height: 400px;
        }
    </style>
</head>
<body>
    <article class="markdown-body">
<h3>
<a id="user-content-instituto-de-computação---unicamp" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#instituto-de-computa%C3%A7%C3%A3o---unicamp" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Instituto de Computação - Unicamp</h3>
<h3>
<a id="user-content-mc102---algoritmos-e-programação-de-computadores" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#mc102---algoritmos-e-programa%C3%A7%C3%A3o-de-computadores" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>MC102 - Algoritmos e Programação de Computadores</h3>
<h1>
<a id="user-content-laboratório-id---title" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#laborat%C3%B3rio-id---title" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Laboratório 17 - Sistema de Notas</h1><p>Prazo de entrega: <strong>09/06/2017 23:59:59</strong></p><p>Peso: <strong>2</strong></p>
<p><em>Professor:</em> Eduardo C. Xavier<br>
<em>Professor:</em> Guido Araújo</p>
<p><em>Monitor:</em> Arthur Pratti Dadalto<br>
<em>Monitor:</em> Cristina Cavalcante<br>
<em>Monitor:</em> Klairton de Lima Brito<br>
<em>Monitor:</em> Luís Felipe Mattos<br>
<em>Monitor:</em> Paulo Finardi<br>
<em>Monitor:</em> Paulo Lucas Rodrigues Lacerda<br>
<em>Monitor:</em> Pedro Alves<br>
<em>Monitor:</em> Renan Vilas Novas<br>
<em>Monitor:</em> Vinicius de Novaes Guimarães Pereira</p>
<hr>
<p>Neste laboratório vamos criar um programa para gerenciar uma base de dados com registros acadêmicos de alunos contendo as seguintes informações para cada aluno: &nbsp;RA, nome do aluno, e telefone. As operações que poderão ser realizadas sobre a base de dados são i) adição/edição de um aluno ii) busca de um aluno iii) remoção de um aluno e iv) impressão de um registro.</p>
<p>A base de dados será implementada com um vetor que deverá ser alocado
dinamicamente.</p>
<p>Um registro com as informações de um aluno deverá ser implementado como um <code>struct</code> da seguinte forma:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">typedef</span> <span class="pl-k">struct</span> {
  <span class="pl-k">int</span> ra, telefone;
  <span class="pl-k">char</span> nome[<span class="pl-c1">100</span>];
} Aluno;</pre></div>
<p>A base de dados deverá ser implementada também como um <code>struct</code> da seguinte forma:</p>
<div class="highlight highlight-source-c"><pre><span class="pl-k">typedef</span> <span class="pl-k">struct</span> {
  <span class="pl-k">int</span> armazenado;
  <span class="pl-k">int</span> capacidade;
  Aluno *alunos;
} Base;</pre></div>
<p>O campo <code>armazenado</code> deverá conter o número de alunos cadastrados na base, o campo <code>capacidade</code> deverá conter o tamanho alocado do vetor <code>alunos</code>, enquanto que este último deverá apontar para o vetor <code>alunos</code> alocado.</p>
<p>Inicialmente o programa lerá um inteiro positivo <code>n</code> que indica o
número máximo de alunos na base de dados. O programa deverá então
alocar o vetor <code>alunos</code> com tamanho igual a <code>n</code>.</p>
<p>Abaixo temos uma ilustração da nossa base de dados.
<a href="./Laboratório 17_files/lab17.png" target="_blank"><img src="./Laboratório 17_files/lab17.png" alt="Registros" style="max-width:100%;"></a></p>
<p>A função main para este laboratório já foi implementada. Você deverá apenas implementar 6 funções, que realizam as seguintes operações:</p>
<ul>
<li>
<em>Criar a Base</em>: Esta função recebe como parâmetros um ponteiro para
a base de dados e um inteiro
positivo <code>n</code>. A função deve definir o campo <code>capacidade</code> para <code>n</code> e
o campo <code>armazenado</code> para <code>0</code>.  A função deve também alocar o vetor
<code>alunos</code> com tamanho igual a <code>n</code> e imprimir a mensagem <code>Base criada.\n</code>.</li>
<li>
<em>Liberar a Base</em>: Esta função recebe como parâmetro um ponteiro para
a base de dados e deve liberar a memória alocada, e definir os valores
dos campos <code>capacidade</code> e <code>armazenado</code> para zero, e <code>alunos</code> para <code>NULL</code>.</li>
<li>
<em>Buscar</em>: Esta função recebe como parâmetros um ponteiro para a base
de dados e o RA de um aluno. A função deve verificar se o RA
informado está na base, retornando o índice do vetor <code>alunos</code> que
contém o aluno com o RA informado, ou -1 caso não seja encontrado nenhum aluno com este RA.</li>
<li>
<em>Adicionar/Alterar</em>: Esta função recebe como parâmetros um ponteiro para a
base de dados, e os dados de um aluno, que são RA, nome e
telefone. A função deve <strong>incluir</strong> o aluno no vetor <code>alunos</code> ou
<strong>alterar</strong> o registro de mesmo RA, se o aluno com este RA já estiver presente na
base. A função deverá imprimir as informações do aluno no
formato <code>Adicionado: RA - TELEFONE - NOME\n</code> ou <code>Alterado: RA - TELEFONE - NOME\n</code> dependendo se o aluno tenha sido adicionado ou
tenha tido seus dados alterados. A função deve também ajustar o campo
<code>armazenado</code> caso um novo aluno seja incluído.
Caso o vetor <code>alunos</code> esteja cheio para inclusão do aluno a
função deve imprimir a mensagem <code>Erro: base cheia.\n</code>.</li>
<li>
<em>Imprimir</em>: Esta função recebe como parâmetros um ponteiro para a base de dados e o RA de um aluno. A função deve imprimir as informações do aluno informado no formato <code>RA - TELEFONE - NOME\n</code>.<br>
Caso o aluno não esteja cadastrado a função deve imprimir <code>Aluno RA nao encontrado.\n</code>, onde no lugar de <code>RA</code> deverá ser impresso o RA do aluno.</li>
<li>
<em>Remover</em>: Esta função recebe como parâmetros um ponteiro para a
base de dados e o RA de um aluno. A função deve então remover o
aluno com o RA informado da base, e ajustar o campo
<code>armazenado</code> caso seja necessário. Caso o aluno tenha
sido removido a função deve imprimir <code>Aluno RA removido.</code>, e caso o
aluno não esteja na base
a função deverá imprimir  <code>Aluno RA nao encontrado.\n</code>, onde no lugar de <code>RA</code> deverá ser impresso o RA do
aluno.</li>
</ul>
<p>Para esse laboratório você só deverá implementar as funções descritas acima em um arquivo chamado <code>lab17.c</code>, que está parcialmente implementado com as assinaturas dessas funções. A função principal (<code>main</code>) será fornecida em um arquivo separado, chamado <code>lab17_main.c</code>. Links para ambos os arquivos estão disponíveis na página do laboratório. A descrição geral dos parâmetros de entrada e saída das funções encontra-se nos comentários das assinaturas das funções, que são fornecidas a seguir.</p>
<div class="highlight highlight-source-c"><pre>#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>stdio.h<span class="pl-pds">&gt;</span></span>
#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>stdlib.h<span class="pl-pds">&gt;</span></span>

<span class="pl-k">typedef</span> <span class="pl-k">struct</span> {
  <span class="pl-k">int</span> ra, telefone;
  <span class="pl-k">char</span> nome[<span class="pl-c1">100</span>];
} Aluno;

<span class="pl-k">typedef</span> <span class="pl-k">struct</span> {
  <span class="pl-k">int</span> armazenado;
  <span class="pl-k">int</span> capacidade;
  Aluno *alunos;
} Base;

<span class="pl-c"><span class="pl-c">/*</span> Funcao: criar_base</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Inicializa a base ja com a capacidade.</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Parametros:</span>
<span class="pl-c"> *   base: ponteiro para a base</span>
<span class="pl-c"> *   n: quantidade maxima de alunos</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">void</span> <span class="pl-en">criar_base</span>(Base *base, <span class="pl-k">int</span> n) {
  <span class="pl-c"><span class="pl-c">/*</span> Implementar <span class="pl-c">*/</span></span>
  <span class="pl-k">return</span>;
}

<span class="pl-c"><span class="pl-c">/*</span> Funcao: buscar</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Parametros:</span>
<span class="pl-c"> *   base: ponteiro para a base</span>
<span class="pl-c"> *   ra: numero do RA</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Retorno:</span>
<span class="pl-c"> *   Indice do registro com RA no vetor de alunos</span>
<span class="pl-c"> *   -1 caso contrario.</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">int</span> <span class="pl-en">buscar</span>(Base *base, <span class="pl-k">int</span> ra) {
  <span class="pl-c"><span class="pl-c">/*</span> Implementar <span class="pl-c">*/</span></span>
  <span class="pl-k">return</span> -<span class="pl-c1">1</span>;
}

<span class="pl-c"><span class="pl-c">/*</span> Funcao: imprimir</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Parametros:</span>
<span class="pl-c"> *   base: ponteiro para a base</span>
<span class="pl-c"> *   ra: numero do RA</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">void</span> <span class="pl-en">imprimir</span>(Base *base, <span class="pl-k">int</span> ra) {
  <span class="pl-c"><span class="pl-c">/*</span> Implementar <span class="pl-c">*/</span></span>
  <span class="pl-k">return</span>;
}

<span class="pl-c"><span class="pl-c">/*</span> Funcoes: adicionar</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Inclui um registro sem permitir RAs duplicados.</span>
<span class="pl-c"> * O quantidade de alunos deve ser atualizada.</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Parametros:</span>
<span class="pl-c"> *   base: ponteiro para a base</span>
<span class="pl-c"> *   ra: numero do RA</span>
<span class="pl-c"> *   telefone: numero do telefone</span>
<span class="pl-c"> *   nome: string com o nome</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">void</span> <span class="pl-en">adicionar</span>(Base *base, <span class="pl-k">int</span> ra, <span class="pl-k">int</span> telefone, <span class="pl-k">char</span> *nome) {
  <span class="pl-c"><span class="pl-c">/*</span> Implementar <span class="pl-c">*/</span></span>
  <span class="pl-k">return</span>;
}

<span class="pl-c"><span class="pl-c">/*</span> Funcoes: remover</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Remove um registro se o ra estiver presente.</span>
<span class="pl-c"> * O quantidade de registro deve ser atualizada.</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Parametros:</span>
<span class="pl-c"> *   base: ponteiro para a base</span>
<span class="pl-c"> *   ra: numero do RA</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">void</span> <span class="pl-en">remover</span>(Base *base, <span class="pl-k">int</span> ra) {
  <span class="pl-c"><span class="pl-c">/*</span> Implementar <span class="pl-c">*/</span></span>
  <span class="pl-k">return</span>;
}

<span class="pl-c"><span class="pl-c">/*</span> Funcao: liberar_base</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Libera a memoria de todos alunos da base.</span>
<span class="pl-c"> * Deve deixar a base com capacidade e quantidade armazenada igual a zero</span>
<span class="pl-c"> * e o ponteiro para alunos igual a NULL.</span>
<span class="pl-c"> *</span>
<span class="pl-c"> * Parametros:</span>
<span class="pl-c"> *   base: ponteiro para a base</span>
<span class="pl-c"> <span class="pl-c">*/</span></span>
<span class="pl-k">void</span> <span class="pl-en">liberar_base</span>(Base *base) {
  <span class="pl-c"><span class="pl-c">/*</span> Implementar <span class="pl-c">*/</span></span>
  <span class="pl-k">return</span>;
}</pre></div>
<h2>
<a id="user-content-reforçando" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#refor%C3%A7ando" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Reforçando</h2>
<p>Neste laboratório você não precisará se preocupar em ler a entrada a partir da entrada padrão. Seu trabalho é apenas implementar as funções descritas. A função <code>main()</code> que é fornecida no arquivo <code>lab17_main.c</code> se encarrega da leitura e de chamar as funções.</p>
<p>Você também não deve submeter o arquivo <code>lab17_main.c</code> para o SuSy, <strong>somente o arquivo</strong> <code>lab17.c</code>.</p>
<p>As sessões abaixo, de Entrada e Saída, descrevem os formatos de entrada e saída, mas você não precisa se preocupar com eles.</p>
<h2>
<a id="user-content-entrada" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#entrada" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Entrada</h2>
<p>A primeira linha da entrada contém um inteiro <code>n</code> indicando o número
máximo de alunos que a base conterá.</p>
<p>As linhas seguintes consistem de operações a serem realizadas na base de alunos.
As operações são:</p>
<ul>
<li>
<code>&gt; RA</code> Imprimir o registro de um aluno com o RA informado, ou
uma mensagem dizendo que o aluno não foi encontrado;</li>
<li>
<code>+ RA TELEFONE NOME</code> Adicionar/Alterar um aluno com os dados fornecidos;</li>
<li>
<code>- RA</code> Remover o aluno de RA informado da base, ou uma mensagem
dizendo que o aluno não foi encontrado;</li>
<li>
<code>q</code> Limpar a base e encerrar o programa.</li>
</ul>
<p>Onde:</p>
<ul>
<li>
<code>RA</code> é o número do RA;</li>
<li>
<code>TELEFONE</code> é o número do telefone sem formatação (somente dígitos);</li>
<li>
<code>NOME</code> é o nome do aluno.</li>
</ul>
<h2>
<a id="user-content-saída" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#sa%C3%ADda" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Saída</h2>
<p>Cada linha da saída do programa contém o resultado da execução de cada operação dada na entrada, de forma que a saída possui uma linha a menos que a quantidade de linhas da entrada.</p>
<h2>
<a id="user-content-exemplos" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#exemplos" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Exemplos</h2>
<h3>
<a id="user-content-teste-01" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#teste-01" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Teste 01</h3>
<p><a href="https://susy.ic.unicamp.br:9999/mc102qrst/17/dados/arq01.in">Entrada</a></p>
<pre><code>2
&gt; 190029
+ 190029 99009912 Paulo da Silva
&gt; 190029
+ 210419 91889912 Maria Souza
q
</code></pre>
<p><a href="https://susy.ic.unicamp.br:9999/mc102qrst/17/dados/arq01.res">Saída</a></p>
<pre><code>Base criada.
Aluno 190029 nao encontrado.
Adicionado: 190029 - 99009912 - Paulo da Silva
190029 - 99009912 - Paulo da Silva
Adicionado: 210419 - 91889912 - Maria Souza
</code></pre>
<h3>
<a id="user-content-teste-02" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#teste-02" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Teste 02</h3>
<p><a href="https://susy.ic.unicamp.br:9999/mc102qrst/17/dados/arq02.in">Entrada</a></p>
<pre><code>2
&gt; 190029
+ 190029 99001111 Paulo de Silva
&gt; 190029
+ 210419 91889912 Maria Souza
+ 190030 99009913 Victor da Silva
+ 210419 10000001 Maria Souza
&gt; 190029
- 190029
&gt; 190029
&gt; 210419
- 210419
&gt; 210419
q
</code></pre>
<p><a href="https://susy.ic.unicamp.br:9999/mc102qrst/17/dados/arq02.res">Saída</a></p>
<pre><code>Base criada.
Aluno 190029 nao encontrado.
Adicionado: 190029 - 99001111 - Paulo de Silva
190029 - 99001111 - Paulo de Silva
Adicionado: 210419 - 91889912 - Maria Souza
Erro: base cheia.
Alterado: 210419 - 10000001 - Maria Souza
190029 - 99001111 - Paulo de Silva
Aluno 190029 removido.
Aluno 190029 nao encontrado.
210419 - 10000001 - Maria Souza
Aluno 210419 removido.
Aluno 210419 nao encontrado.
</code></pre>
<p>Para mais exemplos, consulte os <a href="https://susy.ic.unicamp.br:9999/mc102qrst/17/dados/testes.html">testes abertos no Susy</a>.</p>
<h2>
<a id="user-content-observações" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#observa%C3%A7%C3%B5es" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Observações</h2>
<ul>
<li>O número máximo de submissões é <strong>10</strong>;</li><li>O seu programa deve estar completamente contido em um único arquivo denominado <code>lab17.c</code>;</li><li>Para a realização dos testes do SuSy, a compilação se dará da seguinte forma:<br>
<code>gcc -std=c99 -pedantic -Wall -o lab17 lab17.c lab17_main.c</code>;</li><li>Você deve incluir, no início do seu programa, uma breve descrição dos objetivos do programa, da entrada e da saída, além do seu nome e do seu RA;</li>
<li>Indente corretamente o seu código e inclua comentários no decorrer do seu programa.</li>
</ul>
<h2>
<a id="user-content-critérios-importantes" class="anchor" href="https://susy.ic.unicamp.br:9999/mc102qrst/17/enunciado.html#crit%C3%A9rios-importantes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Critérios importantes</h2>
<p>Independentemente dos resultados dos testes do SuSy, o não cumprimento dos critérios abaixo implicará em nota zero nesta tarefa de laboratório.</p>
<ul>
<li>Os únicos headers aceitos para essa tarefa serão o <code>stdio.h</code>,
<code>stdlib.h</code> e <code>string.h</code>.</li>
</ul>

    </article>


</body></html>